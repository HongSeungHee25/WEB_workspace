<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>dateFormSample.html</title>
<link rel="shortcut icon" href="../image/favicon.ico">
<!-- ìƒíƒœì½”ë“œ ì°¸ê³  : https://ko.wikipedia.org/wiki/HTTP -->
<style type="text/css">
	body{  margin: 0; height: 100%;  }
	header{ box-sizing: border-box; height: 15%; 
	display: flex; align-items: center; justify-content: center;}
	section{ box-sizing: border-box; min-height: 70%; display: flex;
	align-items: center; justify-content: center;}
	label{ font-size: 2em;}
	select{ width: 110px; height: 40px; font-size: 100%; text-align: center;}
	input{ width: 105px; height: 36px; font-size: 100%; text-align: center;}
	button{ width: 100px; height: 40px; font-size: 70%; margin: 12px;
	background-color: pink; color: white; border: none;}
	
</style>
</head>
<body>
<header>
<h1>ğŸ’’HSH HOTELğŸ’’</h1>
</header>
<section>
<form action="">
	<label for="selectNight">ìˆ™ë°•ì¼ìˆ˜ : </label>
	<select name="days" id="selectNight">
		<option value="0">ì„ íƒ</option>
		<option value="1">1ë°•</option>
		<option value="2">2ë°•</option>
		<option value="3">3ë°•</option>
		<option value="4">4ë°•</option>
	</select><br>
	<!--  4. ì…ì‹¤ë‚ ì§œëŠ” ì˜¤ëŠ˜ ì´ì „ ë‚ ì§œëŠ” ì„ íƒì„ ëª»í•˜ë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤. (input íƒœê·¸ min ì†ì„±)
	 	ì…ì‹¤ë‚ ì§œëŠ” ì˜¤ëŠ˜ ~ 3ë‹¬ ì´í›„ë¡œë§Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(input íƒœê·¸ max ì†ì„±)   -->
	<label for="enterDate">ì…ì‹¤ë‚ ì§œ : </label>
	<input type="date" name="start" id="enterDate" min=2023-08-02 max=2023-11-02><br>
	<label for="outDate">í‡´ì‹¤ë‚ ì§œ : </label>
	<input type="date" name="end" id="outDate" min=2023-08-03><br>
	
	<label for="enterTime">ì…ì‹¤ì‹œê°„ : </label>
    <input type="time" name="startTime" id="enterTime" value="14:00"><br>
    <!-- ì‹œê°„ ì„ íƒ ëª»í•˜ê²Œ ë§‰ê¸° -->
    <!-- <input type="time" name="startTime" id="enterTime" value="14:00" readonly><br> -->
    <label for="outTime">í‡´ì‹¤ì‹œê°„ : </label>
    <input type="time" name="endTime" id="outTime" ><br>
	
	<label for="reservBtn">
	<button name="reservation" id="reservBtn">ì˜ˆì•½</button></label>
	<label for="cancellBtn">
	<button name="cancellation" id="cancellBtn">ì·¨ì†Œ</button></label>
	
</form>
</section>
<!-- 1. ì…ì‹¤ë‚ ì§œëŠ” ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì´ˆê¸°í™” í•©ë‹ˆë‹¤.
	 2. í‡´ì‹¤ë‚ ì§œëŠ” ì„ íƒí•œ ìˆ™ë°•ì¼ìˆ˜ + ì…ì‹¤ë‚ ì§œë¡œ í•©ë‹ˆë‹¤. 8/2 ì…ì‹¤ + 3ë°• = 8ì›”5ì¼
	 3. í‡´ì‹¤ë‚ ì§œëŠ” select íƒœê·¸ì—ì„œ ìˆ™ë°•ì¼ìˆ˜ ì„ íƒí•˜ë©´ ê³„ì‚°í•´ì„œ í‘œì‹œí•©ë‹ˆë‹¤.
	 							â”—> click, change ì´ë²¤íŠ¸
	 4. ì…ì‹¤ë‚ ì§œëŠ” ì˜¤ëŠ˜ ì´ì „ ë‚ ì§œëŠ” ì„ íƒì„ ëª»í•˜ë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤. (input íƒœê·¸ min ì†ì„±)
	 	ì…ì‹¤ë‚ ì§œëŠ” ì˜¤ëŠ˜ ~ 3ë‹¬ ì´í›„ë¡œë§Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(input íƒœê·¸ max ì†ì„±)
	 **ì°¸ê³  : input type=date ì¸ ê²½ìš° value ëŠ” ë…„ë„4ìë¦¬-ì›”2ìë¦¬-ì¼2ìë¦¬ ë¡œ ì„¤ì •**
	  -->
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
    // ë‚ ì§œ ì…ë ¥ ìš”ì†Œì™€ ë²„íŠ¼ ê°€ì ¸ì˜¤ê¸°
    const enterDateInput = document.getElementById('enterDate');
    const outDateInput = document.getElementById('outDate');
    const enterTimeInput = document.getElementById('enterTime');
    const outTimeInput = document.getElementById('outTime'); // í‡´ì‹¤ì‹œê°„ ì…ë ¥ ìš”ì†Œ ì¶”ê°€
    const selectNight = document.getElementById('selectNight');
    const reservBtn = document.getElementById('reservBtn');
    const cancellBtn = document.getElementById('cancellBtn');

    // ì´ˆê¸°ê°’ ì„¤ì •
    const currentDate = new Date();
    const currentHour = currentDate.getHours();
    const currentMinute = currentDate.getMinutes();
    enterDateInput.valueAsDate = currentDate;
    enterTimeInput.value = '14:00';

    // ìˆ™ë°•ì¼ìˆ˜ ì„ íƒì‹œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    selectNight.addEventListener('change', function() {
        const selectedNights = parseInt(selectNight.value, 10);
        if (!isNaN(selectedNights) && selectedNights > 0) {
            const departureDate = new Date(currentDate);
            departureDate.setDate(departureDate.getDate() + selectedNights);
            outDateInput.valueAsDate = departureDate;

            // í‡´ì‹¤ì‹œê°„ ì„¤ì •: ì˜¤í›„ 14ì‹œ
            const outHour = 14;
            const outMinute = 0;
            const formattedOutTime = `${outHour.toString().padStart(2, '0')}:${outMinute.toString().padStart(2, '0')}`;
            outTimeInput.value = formattedOutTime;
        } else {
            // ìˆ™ë°•ì¼ìˆ˜ê°€ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš° í‡´ì‹¤ë‚ ì§œ í•„ë“œì™€ í‡´ì‹¤ì‹œê°„ í•„ë“œë¥¼ ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •
            outDateInput.value = '';
            outTimeInput.value = '';
        }
    });

 	// ì…ì‹¤ì‹œê°„ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    enterTimeInput.addEventListener('change', function() {
        const enterHour = parseInt(enterTimeInput.value.substring(0, 2), 10);
        const enterMinute = parseInt(enterTimeInput.value.substring(3, 5), 10);

        // í‡´ì‹¤ì‹œê°„ ë³€ê²½: ì…ì‹¤ì‹œê°„ì— ì¶”ê°€í•œ ì‹œê°„ì„ í‡´ì‹¤ì‹œê°„ì—ë„ ì¶”ê°€
        const outHour = enterHour;

        // 24ì‹œê°„ ì´ìƒì´ë©´ ë‚ ì§œë¥¼ í•˜ë£¨ ì¦ê°€ì‹œì¼œì¤Œ
        let departureDate = new Date(enterDateInput.valueAsDate);
        if (outHour >= 24) {
            departureDate.setDate(departureDate.getDate() + 1);
        }
        departureDate.setHours(outHour % 24, enterMinute); // í‡´ì‹¤ì‹œê°„ ë¶„ì€ ì…ì‹¤ì‹œê°„ ë¶„ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€
        outDateInput.valueAsDate = departureDate;

        // í‡´ì‹¤ì‹œê°„ë„ ë³€ê²½
        const formattedOutTime = `${(outHour % 24).toString().padStart(2, '0')}:${enterMinute.toString().padStart(2, '0')}`;
        outTimeInput.value = formattedOutTime;
    });



    // ì˜ˆì•½ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    reservBtn.addEventListener('click', function() {
        const enterDate = enterDateInput.value;
        const outDate = outDateInput.value;
        const selectedNights = selectNight.value;

        alert('ìˆ™ë°•ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nìˆ™ë°• ë‚ ì§œëŠ” ' + enterDate + ' ë¶€í„° ' + outDate + ' ê¹Œì§€ ì´ ' + selectedNights + 'ì¼ ì…ë‹ˆë‹¤.\nì¦ê±°ìš´ ì—¬í–‰ë˜ì„¸ìš”.');
    });

    // ì·¨ì†Œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    cancellBtn.addEventListener('click', function() {
        alert('ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
    });
});


	 	
</script>
</body>
</html>